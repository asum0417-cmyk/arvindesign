<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è‰¾æ–‡å¤¢æƒ³å®¶è£ä¿®é ç®—è©¦ç®— | å¿«é€Ÿä¼°åƒ¹</title>
    <!-- ç§»é™¤äº† Markdown è§£æåº«ï¼Œå› ç‚º AI åŠŸèƒ½å·²è¢«ç§»é™¤ --><style>
        /* --- 1. åŸºç¤è¨­å®šèˆ‡å¥¶æ²¹é¢¨é…è‰² --- */
        :root {
            --bg-color: #fdfbf7;      /* æº«æš–çš„ç±³ç™½èƒŒæ™¯ */
            --card-bg: #ffffff;
            --primary-color: #d4a373; /* ç„¦ç³–è‰²/æœ¨é ­è‰² */
            --primary-hover: #b0875b;
            --text-main: #4a4a4a;
            --text-light: #888;
            --border-color: #eee;
            --highlight: #faedcd;     /* å¥¶æ²¹é»ƒ */
        }

        body {
            font-family: "Microsoft JhengHei", "Helvetica Neue", sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
            background: var(--card-bg);
            padding: 40px 30px;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(212, 163, 115, 0.1);
        }

        /* --- Logo æ¨£å¼ --- */
        .logo-container {
            text-align: center;
            margin-bottom: 20px;
        }
        #company-logo {
            max-width: 200px; /* Logo å¯¬åº¦èª¿æ•´ç‚º 200px */
            height: auto;
            border-radius: 8px; /* ä¿æŒåœ“è§’é¢¨æ ¼ */
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        /* --- Logo æ¨£å¼ End --- */

        h1, h2, h3 {
            text-align: center;
            color: var(--text-main);
            margin-bottom: 10px;
        }

        .subtitle {
            text-align: center;
            color: var(--text-light);
            font-size: 0.9em;
            margin-bottom: 30px;
        }

        /* --- 2. è¡¨å–®å…ƒä»¶æ¨£å¼ --- */
        .form-group {
            margin-bottom: 25px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #555;
        }

        input[type="number"], select {
            width: 100%;
            padding: 12px;
            border: 2px solid var(--border-color);
            border-radius: 10px;
            font-size: 16px;
            box-sizing: border-box;
            background-color: #fafafa;
            transition: border-color 0.3s;
        }

        input[type="number"]:focus, select[type="number"]:focus {
            outline: none;
            border-color: var(--primary-color);
            background-color: #fff;
        }

        .checkbox-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            background: #fafafa;
            padding: 10px 15px;
            border-radius: 10px;
            border: 1px solid transparent;
            cursor: pointer;
            transition: all 0.2s;
        }

        .checkbox-item:hover {
            background: var(--highlight);
        }

        .checkbox-item input {
            margin-right: 10px;
            accent-color: var(--primary-color);
            transform: scale(1.2);
        }

        /* --- 3. æŒ‰éˆ•èˆ‡çµæœå€å¡Š --- */
        .btn-calc {
            width: 100%;
            padding: 15px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.3s;
            margin-top: 10px;
        }

        .btn-calc:hover {
            background-color: var(--primary-hover);
        }

        #result-section {
            display: none;
            margin-top: 30px;
            padding: 25px;
            background-color: var(--highlight);
            border-radius: 15px;
            text-align: center;
            border: 2px dashed var(--primary-color);
            animation: fadeIn 0.5s ease;
        }

        .price-range {
            font-size: 2em;
            color: var(--primary-color);
            font-weight: bold;
            margin: 15px 0;
        }

        .disclaimer {
            font-size: 0.85em;
            color: #777;
            margin-top: 15px;
        }

        /* --- 4. è¯çµ¡è¡¨å–® (CTAå€å¡Š) --- */
        #contact-section {
            display: none;
            margin-top: 30px;
            border-top: 1px solid #eee;
            padding-top: 20px;
            text-align: center;
        }
        
        .contact-btn {
            background-color: #333;
            color: #fff;
            width: 100%;
            padding: 15px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 10px;
            transition: background 0.3s;
        }
        
        .contact-btn:hover {
            background-color: #000;
        }
        
        /* å‹•ç•« */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @media (max-width: 480px) {
            .checkbox-grid {
                grid-template-columns: 1fr;
            }
            .container {
                padding: 25px 20px;
            }
        }
    </style>
</head>
<body>

<div class="container">
    <div class="logo-container">
        <!-- Logo åœ–ç‰‡å·²èª¿æ•´ max-width ç‚º 200px --><img id="company-logo" 
             src="https://i.postimg.cc/7hfWKsV1/ai-wen.png" 
             alt="å…¬å¸Logo">
    </div>
    <h1>ğŸ  è£ä¿®é ç®—è©¦ç®—</h1>
    <p class="subtitle">30ç§’å¿«é€Ÿä¼°åƒ¹ï¼Œæ‰¾åˆ°é©åˆä½ çš„å¤¢æƒ³å®¶</p>

    <form id="calc-form">
        <!-- 1. åªæ•¸ --><div class="form-group">
            <label for="ping">å®¤å…§åªæ•¸ (ä¸å«é™½å°)</label>
            <input type="number" id="ping" placeholder="ä¾‹å¦‚ï¼š20" min="5" max="100" required>
        </div>

        <!-- æˆ¿å±‹ç‹€æ³ --><div class="form-group">
            <label for="house-condition">æˆ¿å±‹ç‹€æ³</label>
            <select id="house-condition">
                <option value="new">âœ¨ æ–°æˆå±‹ (5å¹´å…§)</option>
                <option value="old">ğŸšï¸ è€å±‹ç¿»æ–° (éœ€æ‹†é™¤/ç®¡ç·šæ›´æ›)</option>
            </select>
        </div>

        <!-- 2. å®¶åº­æˆå“¡ --><div class="form-group">
            <label for="family">å®¶åº­æˆå“¡ç‹€æ…‹</label>
            <select id="family">
                <option value="single">å–®èº«è²´æ—</option>
                <option value="couple">æ–°å©šå¤«å¦» / é ‚å®¢æ—</option>
                <option value="kids">è¦ªå­å®¶åº­ (æœ‰å°å­©)</option>
                <option value="pets">å¯µç‰©å®¶åº­ (æœ‰è²“ç‹—)</option>
                <option value="senior">é€€ä¼‘æ¨‚é½¡</option>
            </select>
        </div>

        <!-- 3. é¢¨æ ¼é¸æ“‡ --><div class="form-group">
            <label for="style">å–œæ­¡çš„è¨­è¨ˆé¢¨æ ¼</label>
            <select id="style" required>
                <option value="" disabled selected>è«‹é¸æ“‡é¢¨æ ¼...</option>
                <option value="creamy">âœ¨ å¥¶æ²¹åŸæœ¨é¢¨ (æº«æŸ”æ²»ç™’)</option>
                <option value="muji">ğŸŒ¿ æ—¥ç³»ç„¡å°é¢¨ (æ”¶ç´æ©Ÿèƒ½)</option>
                <option value="nordic">â˜€ï¸ åŒ—æ­é¢¨ (æ˜äº®æ´»æ½‘)</option>
                <option value="wabi">ğŸ‚ ä¾˜å¯‚é¢¨ (è³ªæ¨¸å¯§éœ)</option>
                <option value="dark">ğŸ¸ æ·±è‰²ç¾ä»£é¢¨ (é«˜ç´šè³ªæ„Ÿ)</option>
            </select>
        </div>

        <!-- 4. å‹¾é¸é …ç›® --><div class="form-group">
            <label>æ‚¨éœ€è¦çš„å·¥ç¨‹é …ç›® (å¯è¤‡é¸)</label>
            <div class="checkbox-grid">
                <label class="checkbox-item">
                    <input type="checkbox" value="cabinet_entry"> ç„é—œç³»çµ±æ«ƒ
                </label>
                <label class="checkbox-item">
                    <input type="checkbox" value="cabinet_living"> å®¢å»³æ”¶ç´/é›»è¦–æ«ƒ
                </label>
                <label class="checkbox-item">
                    <input type="checkbox" value="cabinet_bedroom"> è‡¥å®¤è¡£æ«ƒ
                </label>
                <label class="checkbox-item">
                    <input type="checkbox" value="floor"> åœ°æ¿æ›´æ–°
                </label>
                <label class="checkbox-item">
                    <input type="checkbox" value="kitchen"> å»šå…·ç³»çµ±æ«ƒ
                </label>
                <label class="checkbox-item">
                    <input type="checkbox" value="bathroom"> æµ´å»ç¿»æ–° (ä¸€å¼)
                </label>
                <label class="checkbox-item">
                    <input type="checkbox" value="partition"> éš”é–“èª¿æ•´/æ‹†é™¤
                </label>
                <label class="checkbox-item">
                    <input type="checkbox" value="lighting"> ç‡ˆå…‰è¨ˆç•«
                </label>
            </div>
        </div>

        <!-- é€™è£¡çš„ onclick æœƒåœ¨ module è¼‰å…¥å¾Œé‡æ–°ç¶å®šï¼Œæˆ–é€é window å…¨åŸŸå‘¼å« --><button type="button" class="btn-calc" id="calc-btn">é–‹å§‹è©¦ç®—é ç®—</button>
    </form>

    <!-- çµæœå€å¡Š --><div id="result-section">
        <h3>ğŸ’° æ‚¨çš„é ä¼°è£ä¿®é ç®—</h3>
        <p id="style-desc" style="font-size: 0.9em; color: #666;"></p>
        <div class="price-range" id="price-display">è¨ˆç®—ä¸­...</div>
        <p class="disclaimer">
            *æ­¤é‡‘é¡ç‚ºç²—ç•¥ä¼°ç®—ï¼Œå¯¦éš›å ±åƒ¹éœ€ä¾ç¾å ´ä¸ˆé‡ã€é¸ç”¨å»ºæç­‰ç´šè€Œå®šã€‚<br>
            *é ç®—åŒ…å«è¨­è¨ˆè²»èˆ‡åŸºç¤å·¥ç¨‹ï¼Œä¸å«æ´»å‹•å®¶å…·èˆ‡å®¶é›»ã€‚
        </p>

        <!-- ç§»é™¤äº† AI å»ºè­°å€å¡Š --></div>

    <!-- è¯çµ¡ CTA å€å¡Š --><div id="contact-section">
        <h3>å–œæ­¡é€™å€‹é ç®—è¦åŠƒå—ï¼Ÿ</h3>
        <button type="button" class="contact-btn" onclick="submitInquiry()">åŠ  LINE é ç´„å…è²»è«®è©¢</button>
    </div>

    <!-- å·²ç§»é™¤ã€Œä¸€éµè¤‡è£½ç¨‹å¼ç¢¼ã€å€å¡Š -->

</div>

<script>
    // ç§»é™¤äº† Gemini API å¼•å…¥èˆ‡ç›¸é—œç¨‹å¼ç¢¼
    
    // é…ç½®è¨­å®šæª” (Config)
    const PRICING = {
        basePerPing: 12000, 
        conditions: {
            'new': 1.2,
            'old': 1.5
        },
        styles: {
            'creamy': { rate: 1.3, desc: 'å¥¶æ²¹åŸæœ¨é¢¨é€šå¸¸åŒ…å«è¼ƒå¤šåœ“å¼§æœ¨ä½œé€ å‹èˆ‡ç‰¹æ®Šå¡—æ–™ã€‚', name: 'å¥¶æ²¹åŸæœ¨é¢¨' },
            'muji':   { rate: 1.3, desc: 'æ—¥ç³»ç„¡å°é¢¨å¼·èª¿æ”¶ç´æ©Ÿèƒ½èˆ‡æ¨™æº–åŒ–æ«ƒé«”ï¼ŒCPå€¼ä¸éŒ¯ã€‚', name: 'æ—¥ç³»ç„¡å°é¢¨' },
            'nordic': { rate: 1.2, desc: 'åŒ—æ­é¢¨é‡è¦–è‰²å½©æ­é…èˆ‡è»Ÿè£ï¼ŒåŸºç¤å·¥ç¨‹ç›¸å°å–®ç´”ã€‚', name: 'åŒ—æ­é¢¨' },
            'wabi':   { rate: 1.5, desc: 'ä¾˜å¯‚é¢¨é‹ç”¨ç‰¹æ®Šç¤¦ç‰©å¡—æ–™èˆ‡è³ªæ¨¸æ›²ç·šï¼Œå±•ç¾ä½èª¿çš„å¥¢è¯æ„Ÿã€‚', name: 'ä¾˜å¯‚é¢¨' },
            'dark':   { rate: 1.4, desc: 'æ·±è‰²ç¾ä»£é¢¨å¸¸é‹ç”¨éµä»¶ã€çŸ³æèˆ‡æ°£æ°›ç‡ˆå…‰ï¼Œè³ªæ„Ÿå‡ç´šã€‚', name: 'æ·±è‰²ç¾ä»£é¢¨' }
        },
        addons: {
            'cabinet_entry':   { type: 'fixed', cost: 35000, name: 'ç„é—œç³»çµ±æ«ƒ' },
            'cabinet_living':  { type: 'fixed', cost: 80000, name: 'å®¢å»³æ”¶ç´' },
            'cabinet_bedroom': { type: 'fixed', cost: 60000, name: 'è‡¥å®¤è¡£æ«ƒ' },
            'kitchen':         { type: 'fixed', cost: 45000, name: 'å»šå…·ç³»çµ±æ«ƒ' },
            'partition':       { type: 'fixed', cost: 30000, name: 'éš”é–“èª¿æ•´' },
            'lighting':        { type: 'fixed', cost: 8000, name: 'ç‡ˆå…‰è¨ˆç•«' },
            'bathroom':        { type: 'fixed', cost: 80000, name: 'æµ´å»ç¿»æ–°' }, 
            'floor':           { type: 'per_ping', cost: 3500, name: 'åœ°æ¿æ›´æ–°' }
        }
    };
    
    // å°‡å‡½å¼æ›è¼‰åˆ° window ä»¥ä¾¿ HTML onclick ä½¿ç”¨ (é‡å°å‚³çµ± JS å¯«æ³•çš„ç›¸å®¹)
    window.submitInquiry = function() {
        // LINE å®˜æ–¹å¸³è™Ÿ ID: @603ukcah (å·²æ ¹æ“šä½¿ç”¨è€…æä¾›è³‡è¨Šæ›´æ–°)
        const lineUrl = 'https://line.me/R/ti/p/@603ukcah'; 
        
        window.location.href = lineUrl;
    }

    // ä¸»è¦è¨ˆç®—é‚è¼¯
    function calculateBudget() {
        const ping = parseFloat(document.getElementById('ping').value);
        const condition = document.getElementById('house-condition').value;
        const style = document.getElementById('style').value;
        const family = document.getElementById('family').value; // å–å¾—å®¶åº­æˆå“¡ç‹€æ…‹
        const checkboxes = document.querySelectorAll('.checkbox-grid input[type="checkbox"]:checked');

        // --- è¼¸å…¥æª¢æŸ¥ï¼šä½¿ç”¨å®¢è£½åŒ– UI æç¤ºæˆ–å„ªé›…çš„éŒ¯èª¤è™•ç†ï¼Œé¿å…ä½¿ç”¨ alert() ---
        if (!ping || ping <= 0) {
            // ç”±æ–¼ç¦æ­¢ä½¿ç”¨ alertï¼Œé€™è£¡åƒ…ä½¿ç”¨ console.error
            console.error("è«‹è¼¸å…¥æœ‰æ•ˆçš„åªæ•¸ï¼");
            return;
        }
        if (!style) {
            console.error("è«‹é¸æ“‡å–œæ­¡çš„é¢¨æ ¼ï¼");
            return;
        }
        // --- End è¼¸å…¥æª¢æŸ¥ ---


        let baseTotal = ping * PRICING.basePerPing;
        const conditionRate = PRICING.conditions[condition] || 1.0;
        baseTotal = baseTotal * conditionRate;

        const styleData = PRICING.styles[style];
        baseTotal = baseTotal * styleData.rate;

        let addonTotal = 0;

        checkboxes.forEach(box => {
            const key = box.value;
            const item = PRICING.addons[key];
            if (item) {
                if (item.type === 'fixed') {
                    addonTotal += item.cost;
                } else if (item.type === 'per_ping') {
                    addonTotal += (item.cost * ping);
                }
            }
        });

        let estimatedTotal = baseTotal + addonTotal;
        // è¨ˆç®—é ç®—ç¯„åœï¼ˆ+- 15% æµ®å‹•ï¼‰
        let minPrice = Math.round((estimatedTotal * 0.85) / 10000); // ä¸‹é™èª¿ä½åˆ° 0.85 è¼ƒç‚ºå¯¦éš›
        let maxPrice = Math.round((estimatedTotal * 1.15) / 10000);


        // æ›´æ–° UI
        document.getElementById('style-desc').textContent = styleData.desc;
        document.getElementById('price-display').textContent = `NT$ ${minPrice} - ${maxPrice} è¬`;
        
        document.getElementById('result-section').style.display = 'block';
        document.getElementById('contact-section').style.display = 'block';
        
        document.getElementById('result-section').scrollIntoView({ behavior: 'smooth' });
    }

    // å·²ç§»é™¤ copySourceCode å‡½å¼
    
    // ç¶å®šäº‹ä»¶
    document.getElementById('calc-btn').addEventListener('click', calculateBudget);

</script>

</body>

</html>

